{"ast":null,"code":"import React,{useState}from'react';import{currentUser}from'../lib/currentUser.js';// Import the currentUser function\nimport{useParams}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function SwapForm(_ref){let{onSubmit,ownerId}=_ref;const[offerAccepted,setOfferAccepted]=useState(false);const{itemId}=useParams();const currentUserId=currentUser();const initialState={item_id:itemId,item_title:'',item_description:'',offer_accepted:false,user_id:currentUserId,user:currentUserId};const[item,setItem]=useState(initialState);const handleChange=e=>{setItem({...item,[e.target.name]:e.target.value});};const handleSubmit=async e=>{e.preventDefault();onSubmit(item);};//help\nreturn/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Make your offer:\"}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Item Title:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:item.item_title,id:\"item_title\",name:\"item_title\",onChange:handleChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Item Description:\",/*#__PURE__*/_jsx(\"textarea\",{value:item.item_description,id:\"item_description\",name:\"item_description\",onChange:handleChange})]}),ownerId===currentUserId&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Offer Accepted:\",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:offerAccepted,onChange:()=>setOfferAccepted(!offerAccepted)})]})]}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",value:currentUserId}),\" \",/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit Offer\"})]})});}export default SwapForm;","map":{"version":3,"names":["React","useState","currentUser","useParams","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SwapForm","_ref","onSubmit","ownerId","offerAccepted","setOfferAccepted","itemId","currentUserId","initialState","item_id","item_title","item_description","offer_accepted","user_id","user","item","setItem","handleChange","e","target","name","value","handleSubmit","preventDefault","children","type","id","onChange","checked"],"sources":["/Users/sylviadrake-gill/code/sustainableswapshop/frontend/my-react-app/src/Components/SwapForm.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { currentUser } from '../lib/currentUser.js'; // Import the currentUser function\n\nimport { useParams } from 'react-router-dom';\n\n\nfunction SwapForm({ onSubmit, ownerId }) {\n  const [offerAccepted, setOfferAccepted] = useState(false);\n  const { itemId } = useParams()\n\n  const currentUserId = currentUser()\n  const initialState = { \n    item_id: itemId,\n    item_title: '', \n    item_description: '', \n    offer_accepted: false, \n    user_id: currentUserId,\n    user: currentUserId\n     }\n  const [item, setItem] = useState (initialState)\n\n\n  const handleChange = (e) => {\n    setItem({ ...item, [e.target.name]: e.target.value})\n  }\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    onSubmit(item)\n\n  };\n\n  //help\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <h4>Make your offer:</h4>\n        <label>\n          Item Title:\n          <input type=\"text\" value={item.item_title} id='item_title' name='item_title' onChange={handleChange} />\n        </label>\n        <br />\n        <label>\n          Item Description:\n          <textarea value={item.item_description} id='item_description' name='item_description' onChange={handleChange} />\n        </label>\n        {ownerId === currentUserId && ( \n          <>\n            <br />\n            <label>\n              Offer Accepted:\n              <input type=\"checkbox\" checked={offerAccepted} onChange={() => setOfferAccepted(!offerAccepted)} />\n            </label>\n          </>\n        )}\n        <input type=\"hidden\" value={currentUserId} /> {/* Provide the user ID as a hidden input */}\n        <button type=\"submit\">Submit Offer</button>\n      </form>\n    </div>\n  );\n}\n\nexport default SwapForm;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,uBAAuB,CAAE;AAErD,OAASC,SAAS,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAG7C,QAAS,CAAAC,QAAQA,CAAAC,IAAA,CAAwB,IAAvB,CAAEC,QAAQ,CAAEC,OAAQ,CAAC,CAAAF,IAAA,CACrC,KAAM,CAACG,aAAa,CAAEC,gBAAgB,CAAC,CAAGd,QAAQ,CAAC,KAAK,CAAC,CACzD,KAAM,CAAEe,MAAO,CAAC,CAAGb,SAAS,CAAC,CAAC,CAE9B,KAAM,CAAAc,aAAa,CAAGf,WAAW,CAAC,CAAC,CACnC,KAAM,CAAAgB,YAAY,CAAG,CACnBC,OAAO,CAAEH,MAAM,CACfI,UAAU,CAAE,EAAE,CACdC,gBAAgB,CAAE,EAAE,CACpBC,cAAc,CAAE,KAAK,CACrBC,OAAO,CAAEN,aAAa,CACtBO,IAAI,CAAEP,aACL,CAAC,CACJ,KAAM,CAACQ,IAAI,CAAEC,OAAO,CAAC,CAAGzB,QAAQ,CAAEiB,YAAY,CAAC,CAG/C,KAAM,CAAAS,YAAY,CAAIC,CAAC,EAAK,CAC1BF,OAAO,CAAC,CAAE,GAAGD,IAAI,CAAE,CAACG,CAAC,CAACC,MAAM,CAACC,IAAI,EAAGF,CAAC,CAACC,MAAM,CAACE,KAAK,CAAC,CAAC,CACtD,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,KAAO,CAAAJ,CAAC,EAAK,CAChCA,CAAC,CAACK,cAAc,CAAC,CAAC,CAClBrB,QAAQ,CAACa,IAAI,CAAC,CAEhB,CAAC,CAED;AACA,mBACEpB,IAAA,QAAA6B,QAAA,cACE3B,KAAA,SAAMK,QAAQ,CAAEoB,YAAa,CAAAE,QAAA,eAC3B7B,IAAA,OAAA6B,QAAA,CAAI,kBAAgB,CAAI,CAAC,cACzB3B,KAAA,UAAA2B,QAAA,EAAO,aAEL,cAAA7B,IAAA,UAAO8B,IAAI,CAAC,MAAM,CAACJ,KAAK,CAAEN,IAAI,CAACL,UAAW,CAACgB,EAAE,CAAC,YAAY,CAACN,IAAI,CAAC,YAAY,CAACO,QAAQ,CAAEV,YAAa,CAAE,CAAC,EAClG,CAAC,cACRtB,IAAA,QAAK,CAAC,cACNE,KAAA,UAAA2B,QAAA,EAAO,mBAEL,cAAA7B,IAAA,aAAU0B,KAAK,CAAEN,IAAI,CAACJ,gBAAiB,CAACe,EAAE,CAAC,kBAAkB,CAACN,IAAI,CAAC,kBAAkB,CAACO,QAAQ,CAAEV,YAAa,CAAE,CAAC,EAC3G,CAAC,CACPd,OAAO,GAAKI,aAAa,eACxBV,KAAA,CAAAE,SAAA,EAAAyB,QAAA,eACE7B,IAAA,QAAK,CAAC,cACNE,KAAA,UAAA2B,QAAA,EAAO,iBAEL,cAAA7B,IAAA,UAAO8B,IAAI,CAAC,UAAU,CAACG,OAAO,CAAExB,aAAc,CAACuB,QAAQ,CAAEA,CAAA,GAAMtB,gBAAgB,CAAC,CAACD,aAAa,CAAE,CAAE,CAAC,EAC9F,CAAC,EACR,CACH,cACDT,IAAA,UAAO8B,IAAI,CAAC,QAAQ,CAACJ,KAAK,CAAEd,aAAc,CAAE,CAAC,IAAC,cAC9CZ,IAAA,WAAQ8B,IAAI,CAAC,QAAQ,CAAAD,QAAA,CAAC,cAAY,CAAQ,CAAC,EACvC,CAAC,CACJ,CAAC,CAEV,CAEA,cAAe,CAAAxB,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}