{"ast":null,"code":"var _jsxFileName = \"/Users/sylviadrake-gill/code/sustainableswapshop/frontend/my-react-app/src/Pages/ProfilePage.jsx\",\n  _s = $RefreshSig$();\n// import React, { useState, useEffect } from 'react';\n// import axios from 'axios';\n// import { Link } from 'react-router-dom';\n// import { currentUser } from '../lib/currentUser';\n// import ItemEdit from '../Components/ItemEdit.jsx'; // Import the ItemEdit component\n\n// const refreshUserItems = (userId, userToken, setUserItems) => {\n//     axios.get(`${process.env.REACT_APP_BACKEND_URL}/profile/${userId}/items/`, {\n//         headers: {\n//             Authorization: `Bearer ${userToken}`\n//         }\n//     })\n//     .then(response => {\n//         if (Array.isArray(response.data)) {\n//             setUserItems(response.data);\n//         } else {\n//             console.error('Invalid response format for user items:', response.data);\n//         }\n//     })\n//     .catch(error => {\n//         console.error('Error fetching user items:', error);\n//     });\n// };\n\n// function ProfilePage() {\n//     const [userItems, setUserItems] = useState([]); // Initialize userItems as an empty array\n//     const userToken = localStorage.getItem('access_token'); \n//     const userId = currentUser(); \n//     const [editingItemId, setEditingItemId] = useState(null);\n\n//     useEffect(() => {\n//         refreshUserItems(userId, userToken, setUserItems);\n//     }, [userToken, userId]);\n\n//     const handleDelete = (itemId) => {\n//         axios.delete(`${process.env.REACT_APP_BACKEND_URL}/items/${itemId}/delete/`, {\n//             headers: {\n//                 Authorization: `Bearer ${userToken}`\n//             }\n//         })\n//         .then(response => {\n//             // Remove the deleted item from the state\n//             setUserItems(prevItems => prevItems.filter(item => item.id !== itemId));\n//         })\n//         .catch(error => {\n//             console.error('Error deleting item:', error);\n//         });\n//     };\n\n//     return (\n//         <>\n//         <div>\n//             <h1>Your Items</h1>\n//             <div className=\"card-container\">\n//                 {userItems.map(item => (\n//                     <div className=\"item-card\" key={item.id}>\n//                         {item && (\n//                             <>\n//                                 <Link to={`/items/${item.id}`}>\n//                                     <h2>{item.item_title}</h2>\n//                                 </Link>\n//                                 <p>{item.item_description}</p>\n//                                 <button className=\"btn btn-primary\" onClick={() => handleDelete(item.id)}>Delete</button>\n//                                 <button className=\"btn btn-primary\" onClick={() => setEditingItemId(item.id)}>Edit</button>\n//                             </>\n//                         )}\n//                     </div>\n//                 ))}\n//             </div>\n//             {editingItemId && (\n//                 <ItemEdit\n//                     itemId={editingItemId}\n//                     userToken={userToken}\n//                 />\n//             )}\n//              </div>\n//              <div>\n\n//                     {swaps.length > 0 ? (\n//                       swaps.map(swap => (\n//                         <p>{swap.item_title}, {swap.item_description}</p>\n//                       ))\n//                     ) : (\n//                       <p>No offers yet</p>\n//                     )}\n//                   </div>\n//                 </>\n//     );\n// }\n\n// export default ProfilePage;\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useParams } from 'react-router-dom';\nimport '../App/App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ItemViewPage() {\n  _s();\n  const {\n    itemId\n  } = useParams();\n  console.log(\"Item ID:\", itemId);\n  const [item, setItem] = useState(null);\n  const [swaps, setSwaps] = useState([]);\n  useEffect(() => {\n    // Fetch item details\n    axios.get(`${process.env.REACT_APP_BACKEND_URL}/items/${itemId}/`).then(response => {\n      setItem(response.data);\n    }).catch(error => {\n      console.error('Error fetching item details:', error);\n    });\n\n    // Fetch swaps associated with the item\n    axios.get(`${process.env.REACT_APP_BACKEND_URL}/items/${itemId}/swaps/`).then(response => {\n      setSwaps(response.data);\n    }).catch(error => {\n      console.error('Error fetching swaps:', error);\n    });\n  }, [itemId]);\n  const s3BaseUrl = \"https://sdg-ga-seb77.s3.amazonaws.com\";\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"centered-item-card-container\",\n    children: item ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"item-card enlarged\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: item.item_title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: item.item_description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }, this), item.image && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: `${s3BaseUrl}/${item.image_url}/`,\n        alt: item.item_title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Swaps:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: swaps.length > 0 ? swaps.map(swap => /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [swap.item_title, \", \", swap.item_description]\n        }, swap.swap_id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 17\n        }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No offers yet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 5\n  }, this);\n}\n_s(ItemViewPage, \"jQC8Cu0/bnc3U/3lBt0aOXRjmTA=\", false, function () {\n  return [useParams];\n});\n_c = ItemViewPage;\nexport default ItemViewPage;\nvar _c;\n$RefreshReg$(_c, \"ItemViewPage\");","map":{"version":3,"names":["React","useState","useEffect","axios","useParams","jsxDEV","_jsxDEV","ItemViewPage","_s","itemId","console","log","item","setItem","swaps","setSwaps","get","process","env","REACT_APP_BACKEND_URL","then","response","data","catch","error","s3BaseUrl","className","children","item_title","fileName","_jsxFileName","lineNumber","columnNumber","item_description","image","src","image_url","alt","length","map","swap","swap_id","_c","$RefreshReg$"],"sources":["/Users/sylviadrake-gill/code/sustainableswapshop/frontend/my-react-app/src/Pages/ProfilePage.jsx"],"sourcesContent":["// import React, { useState, useEffect } from 'react';\n// import axios from 'axios';\n// import { Link } from 'react-router-dom';\n// import { currentUser } from '../lib/currentUser';\n// import ItemEdit from '../Components/ItemEdit.jsx'; // Import the ItemEdit component\n\n// const refreshUserItems = (userId, userToken, setUserItems) => {\n//     axios.get(`${process.env.REACT_APP_BACKEND_URL}/profile/${userId}/items/`, {\n//         headers: {\n//             Authorization: `Bearer ${userToken}`\n//         }\n//     })\n//     .then(response => {\n//         if (Array.isArray(response.data)) {\n//             setUserItems(response.data);\n//         } else {\n//             console.error('Invalid response format for user items:', response.data);\n//         }\n//     })\n//     .catch(error => {\n//         console.error('Error fetching user items:', error);\n//     });\n// };\n\n// function ProfilePage() {\n//     const [userItems, setUserItems] = useState([]); // Initialize userItems as an empty array\n//     const userToken = localStorage.getItem('access_token'); \n//     const userId = currentUser(); \n//     const [editingItemId, setEditingItemId] = useState(null);\n\n//     useEffect(() => {\n//         refreshUserItems(userId, userToken, setUserItems);\n//     }, [userToken, userId]);\n\n//     const handleDelete = (itemId) => {\n//         axios.delete(`${process.env.REACT_APP_BACKEND_URL}/items/${itemId}/delete/`, {\n//             headers: {\n//                 Authorization: `Bearer ${userToken}`\n//             }\n//         })\n//         .then(response => {\n//             // Remove the deleted item from the state\n//             setUserItems(prevItems => prevItems.filter(item => item.id !== itemId));\n//         })\n//         .catch(error => {\n//             console.error('Error deleting item:', error);\n//         });\n//     };\n\n//     return (\n//         <>\n//         <div>\n//             <h1>Your Items</h1>\n//             <div className=\"card-container\">\n//                 {userItems.map(item => (\n//                     <div className=\"item-card\" key={item.id}>\n//                         {item && (\n//                             <>\n//                                 <Link to={`/items/${item.id}`}>\n//                                     <h2>{item.item_title}</h2>\n//                                 </Link>\n//                                 <p>{item.item_description}</p>\n//                                 <button className=\"btn btn-primary\" onClick={() => handleDelete(item.id)}>Delete</button>\n//                                 <button className=\"btn btn-primary\" onClick={() => setEditingItemId(item.id)}>Edit</button>\n//                             </>\n//                         )}\n//                     </div>\n//                 ))}\n//             </div>\n//             {editingItemId && (\n//                 <ItemEdit\n//                     itemId={editingItemId}\n//                     userToken={userToken}\n//                 />\n//             )}\n//              </div>\n//              <div>\n        \n                  \n//                     {swaps.length > 0 ? (\n//                       swaps.map(swap => (\n//                         <p>{swap.item_title}, {swap.item_description}</p>\n//                       ))\n//                     ) : (\n//                       <p>No offers yet</p>\n//                     )}\n//                   </div>\n//                 </>\n//     );\n// }\n\n// export default ProfilePage;\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useParams } from 'react-router-dom';\nimport '../App/App.css';\n\nfunction ItemViewPage() {\n  const { itemId } = useParams();\n  console.log(\"Item ID:\", itemId);\n\n  const [item, setItem] = useState(null);\n  const [swaps, setSwaps] = useState([]);\n\n  useEffect(() => {\n    // Fetch item details\n    axios.get(`${process.env.REACT_APP_BACKEND_URL}/items/${itemId}/`)\n      .then(response => {\n        setItem(response.data);\n      })\n      .catch(error => {\n        console.error('Error fetching item details:', error);\n      });\n\n    // Fetch swaps associated with the item\n    axios.get(`${process.env.REACT_APP_BACKEND_URL}/items/${itemId}/swaps/`)\n      .then(response => {\n        setSwaps(response.data);\n      })\n      .catch(error => {\n        console.error('Error fetching swaps:', error);\n      });\n  }, [itemId]);\n\n  const s3BaseUrl = \"https://sdg-ga-seb77.s3.amazonaws.com\";\n\n  return (\n    <div className=\"centered-item-card-container\">\n      {item ? (\n        <div className=\"item-card enlarged\">\n          <h1>{item.item_title}</h1>\n          <p>{item.item_description}</p>\n          {item.image && (\n            <img\n              src={`${s3BaseUrl}/${item.image_url}/`}\n              alt={item.item_title}\n            />\n          )}\n          <h4>Swaps:</h4>\n          <div>\n            {swaps.length > 0 ? (\n              swaps.map(swap => (\n                <p key={swap.swap_id}>{swap.item_title}, {swap.item_description}</p>\n              ))\n            ) : (\n              <p>No offers yet</p>\n            )}\n          </div>\n        </div>\n      ) : (\n        <p>Loading...</p>\n      )}\n    </div>\n  );\n}\n\nexport default ItemViewPage;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}