{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ItemEdit(_ref){let{itemId,userToken}=_ref;const[item,setItem]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{axios.get(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/items/\").concat(itemId,\"/\"),{headers:{Authorization:\"Bearer \".concat(userToken)}}).then(response=>{setItem(response.data);setLoading(false);}).catch(error=>{setError('Error fetching item details');setLoading(false);});},[itemId,userToken]);const handleFormSubmit=event=>{event.preventDefault();axios.put(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/items/\").concat(itemId,\"/edit/\"),item,{headers:{Authorization:\"Bearer \".concat(userToken)}}).then(response=>{console.log('Item updated successfully:',response.data);window.location.reload();}).catch(error=>{console.error('Error updating item:',error);});};const handleInputChange=event=>{const{name,value}=event.target;setItem(prevItem=>({...prevItem,[name]:value}));};if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}if(error){return/*#__PURE__*/_jsx(\"div\",{children:error});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Edit Item\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleFormSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Title:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"item_title\",value:item===null||item===void 0?void 0:item.item_title,onChange:handleInputChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Description:\",/*#__PURE__*/_jsx(\"textarea\",{name:\"item_description\",value:item===null||item===void 0?void 0:item.item_description,onChange:handleInputChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Save Changes\"})]})]});}export default ItemEdit;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","ItemEdit","_ref","itemId","userToken","item","setItem","loading","setLoading","error","setError","get","concat","process","env","REACT_APP_BACKEND_URL","headers","Authorization","then","response","data","catch","handleFormSubmit","event","preventDefault","put","console","log","window","location","reload","handleInputChange","name","value","target","prevItem","children","onSubmit","type","item_title","onChange","item_description"],"sources":["/Users/sylviadrake-gill/code/sustainableswapshop/frontend/my-react-app/src/Components/ItemEdit.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nfunction ItemEdit({ itemId, userToken }) {\n    const [item, setItem] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n\n    useEffect(() => {\n        axios.get(`${process.env.REACT_APP_BACKEND_URL}/items/${itemId}/`, {\n            headers: {\n                Authorization: `Bearer ${userToken}`\n            }\n        })\n        .then(response => {\n            setItem(response.data);\n            setLoading(false);\n        })\n        .catch(error => {\n            setError('Error fetching item details');\n            setLoading(false);\n        });\n    }, [itemId, userToken]);\n\n    const handleFormSubmit = (event) => {\n        event.preventDefault();\n        \n        axios.put(\n            `${process.env.REACT_APP_BACKEND_URL}/items/${itemId}/edit/`, \n            item, \n            {\n                headers: {\n                    Authorization: `Bearer ${userToken}`\n                }\n            }\n        )\n        .then(response => {\n            console.log('Item updated successfully:', response.data);\n            window.location.reload()\n        })\n        .catch(error => {\n            console.error('Error updating item:', error);\n        });\n    };\n\n    const handleInputChange = (event) => {\n        const { name, value } = event.target;\n        setItem(prevItem => ({\n            ...prevItem,\n            [name]: value\n        }));\n    };\n\n    if (loading) {\n        return <div>Loading...</div>;\n    }\n\n    if (error) {\n        return <div>{error}</div>;\n    }\n\n    return (\n        <div>\n            <h2>Edit Item</h2>\n            <form onSubmit={handleFormSubmit}>\n                <label>\n                    Title:\n                    <input\n                        type=\"text\"\n                        name=\"item_title\"\n                        value={item?.item_title}\n                        onChange={handleInputChange}\n                    />\n                </label>\n                <br />\n                <label>\n                    Description:\n                    <textarea\n                        name=\"item_description\"\n                        value={item?.item_description}\n                        onChange={handleInputChange}\n                    ></textarea>\n                </label>\n                <br />\n                <button type=\"submit\">Save Changes</button>\n            </form>\n        </div>\n    );\n}\n\nexport default ItemEdit;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}