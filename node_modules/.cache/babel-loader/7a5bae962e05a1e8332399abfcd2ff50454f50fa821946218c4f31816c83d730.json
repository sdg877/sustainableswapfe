{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Nav,Navbar}from'react-bootstrap';import{Link}from'react-router-dom';import{currentUser}from'../lib/currentUser.js';import'../App/App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Menu(){const[isAuth,setIsAuth]=useState(false);const[userId,setUserId]=useState(null);useEffect(()=>{if(localStorage.getItem('access_token')!==null){setIsAuth(true);const id=currentUser();setUserId(id);}else{setIsAuth(false);setUserId(null);}},[isAuth]);const handleLogout=()=>{localStorage.removeItem('access_token');setIsAuth(false);setUserId(null);window.location.href='/login';};return/*#__PURE__*/_jsx(\"nav\",{className:\"custom-navbar\",children:/*#__PURE__*/_jsxs(Navbar,{expand:\"lg\",children:[/*#__PURE__*/_jsx(Navbar.Brand,{style:{color:'#6f42c1',fontSize:'40px'},children:\"Sustainable Swap Shop\"}),/*#__PURE__*/_jsx(Navbar.Toggle,{\"aria-controls\":\"basic-navbar-nav\"}),/*#__PURE__*/_jsx(Navbar.Collapse,{id:\"basic-navbar-nav\",children:/*#__PURE__*/_jsxs(Nav,{className:\"ml-auto\",children:[/*#__PURE__*/_jsx(Nav.Link,{href:\"/\",children:\"Home\"}),/*#__PURE__*/_jsx(Nav.Link,{href:\"/about\",children:\"About\"}),isAuth?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Nav.Link,{onClick:handleLogout,children:\"Logout\"}),/*#__PURE__*/_jsx(Nav.Link,{href:\"/items/create\",children:\"Add Item\"}),userId&&/*#__PURE__*/_jsx(Link,{to:\"/profile/\".concat(userId,\"/items/\"),className:\"nav-link\",children:\"Profile\"})]}):/*#__PURE__*/_jsx(Nav.Link,{href:\"/login\",children:\"Login/Signup\"})]})})]})});}","map":{"version":3,"names":["React","useState","useEffect","Nav","Navbar","Link","currentUser","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Menu","isAuth","setIsAuth","userId","setUserId","localStorage","getItem","id","handleLogout","removeItem","window","location","href","className","children","expand","Brand","style","color","fontSize","Toggle","Collapse","onClick","to","concat"],"sources":["/Users/sylviadrake-gill/code/sustainableswapshop/frontend/my-react-app/src/Components/Menu.jsx"],"sourcesContent":["\nimport React, { useState, useEffect } from 'react';\nimport { Nav, Navbar } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { currentUser } from '../lib/currentUser.js'; \nimport '../App/App.css';\n\nexport default function Menu() {\n  const [isAuth, setIsAuth] = useState(false);\n  const [userId, setUserId] = useState(null); \n\n  useEffect(() => {\n    if (localStorage.getItem('access_token') !== null) {\n      setIsAuth(true);\n      const id = currentUser(); \n      setUserId(id); \n    } else {\n      setIsAuth(false);\n      setUserId(null);\n    }\n  }, [isAuth]); \n\n  const handleLogout = () => {\n    localStorage.removeItem('access_token');\n    setIsAuth(false);\n    setUserId(null);\n    window.location.href = '/login';\n  };\n\n  return (\n    <nav className=\"custom-navbar\">\n      <Navbar expand=\"lg\">\n        <Navbar.Brand style={{ color: '#6f42c1', fontSize: '40px' }}>Sustainable Swap Shop</Navbar.Brand>\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n          <Nav className=\"ml-auto\">\n            <Nav.Link href=\"/\">Home</Nav.Link>\n            <Nav.Link href=\"/about\">About</Nav.Link>\n            {isAuth ? (\n              <>\n                <Nav.Link onClick={handleLogout}>Logout</Nav.Link>\n                <Nav.Link href=\"/items/create\">Add Item</Nav.Link>\n                {userId && (\n                  <Link to={`/profile/${userId}/items/`} className=\"nav-link\">\n                    Profile\n                  </Link>\n                )}\n              </>\n            ) : (\n              <Nav.Link href=\"/login\">Login/Signup</Nav.Link>\n            )}\n          </Nav>\n        </Navbar.Collapse>\n      </Navbar>\n    </nav>\n  );\n}\n"],"mappings":"AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,GAAG,CAAEC,MAAM,KAAQ,iBAAiB,CAC7C,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,WAAW,KAAQ,uBAAuB,CACnD,MAAO,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAExB,cAAe,SAAS,CAAAC,IAAIA,CAAA,CAAG,CAC7B,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGd,QAAQ,CAAC,KAAK,CAAC,CAC3C,KAAM,CAACe,MAAM,CAAEC,SAAS,CAAC,CAAGhB,QAAQ,CAAC,IAAI,CAAC,CAE1CC,SAAS,CAAC,IAAM,CACd,GAAIgB,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,GAAK,IAAI,CAAE,CACjDJ,SAAS,CAAC,IAAI,CAAC,CACf,KAAM,CAAAK,EAAE,CAAGd,WAAW,CAAC,CAAC,CACxBW,SAAS,CAACG,EAAE,CAAC,CACf,CAAC,IAAM,CACLL,SAAS,CAAC,KAAK,CAAC,CAChBE,SAAS,CAAC,IAAI,CAAC,CACjB,CACF,CAAC,CAAE,CAACH,MAAM,CAAC,CAAC,CAEZ,KAAM,CAAAO,YAAY,CAAGA,CAAA,GAAM,CACzBH,YAAY,CAACI,UAAU,CAAC,cAAc,CAAC,CACvCP,SAAS,CAAC,KAAK,CAAC,CAChBE,SAAS,CAAC,IAAI,CAAC,CACfM,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,QAAQ,CACjC,CAAC,CAED,mBACEjB,IAAA,QAAKkB,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5Bf,KAAA,CAACR,MAAM,EAACwB,MAAM,CAAC,IAAI,CAAAD,QAAA,eACjBnB,IAAA,CAACJ,MAAM,CAACyB,KAAK,EAACC,KAAK,CAAE,CAAEC,KAAK,CAAE,SAAS,CAAEC,QAAQ,CAAE,MAAO,CAAE,CAAAL,QAAA,CAAC,uBAAqB,CAAc,CAAC,cACjGnB,IAAA,CAACJ,MAAM,CAAC6B,MAAM,EAAC,gBAAc,kBAAkB,CAAE,CAAC,cAClDzB,IAAA,CAACJ,MAAM,CAAC8B,QAAQ,EAACd,EAAE,CAAC,kBAAkB,CAAAO,QAAA,cACpCf,KAAA,CAACT,GAAG,EAACuB,SAAS,CAAC,SAAS,CAAAC,QAAA,eACtBnB,IAAA,CAACL,GAAG,CAACE,IAAI,EAACoB,IAAI,CAAC,GAAG,CAAAE,QAAA,CAAC,MAAI,CAAU,CAAC,cAClCnB,IAAA,CAACL,GAAG,CAACE,IAAI,EAACoB,IAAI,CAAC,QAAQ,CAAAE,QAAA,CAAC,OAAK,CAAU,CAAC,CACvCb,MAAM,cACLF,KAAA,CAAAF,SAAA,EAAAiB,QAAA,eACEnB,IAAA,CAACL,GAAG,CAACE,IAAI,EAAC8B,OAAO,CAAEd,YAAa,CAAAM,QAAA,CAAC,QAAM,CAAU,CAAC,cAClDnB,IAAA,CAACL,GAAG,CAACE,IAAI,EAACoB,IAAI,CAAC,eAAe,CAAAE,QAAA,CAAC,UAAQ,CAAU,CAAC,CACjDX,MAAM,eACLR,IAAA,CAACH,IAAI,EAAC+B,EAAE,aAAAC,MAAA,CAAcrB,MAAM,WAAU,CAACU,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,SAE5D,CAAM,CACP,EACD,CAAC,cAEHnB,IAAA,CAACL,GAAG,CAACE,IAAI,EAACoB,IAAI,CAAC,QAAQ,CAAAE,QAAA,CAAC,cAAY,CAAU,CAC/C,EACE,CAAC,CACS,CAAC,EACZ,CAAC,CACN,CAAC,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}