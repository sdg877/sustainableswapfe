{"ast":null,"code":"var _jsxFileName = \"/Users/sylviadrake-gill/code/sustainableswapshop/frontend/my-react-app/src/Components/Logout.jsx\",\n  _s = $RefreshSig$();\n// import { useEffect } from \"react\"\n// import axios from \"axios\"\n// export default function Logout() {\n//     useEffect(() => {\n//         (async () => {\n//             try {\n//                 const { data } = await axios.post(\n//                     `${process.env.REACT_APP_BACKEND_URL}/logout/`,\n//                     {\n//                         refresh_token: localStorage.getItem(\"refresh_token\"),\n//                     },\n//                     {\n//                         headers: {\n//                             \"Content-Type\": \"application/json\",\n//                         }\n//                     }\n//                 )\n//                 localStorage.clear()\n//                 axios.defaults.headers.common[\"Authorization\"] = null\n//                 window.location.href = \"/\"\n//                 } catch (e) {\n//                     console.log(\"logout not working\", e)\n//                 }\n//             })()\n//     }, [])\n//     return <div></div>\n// }\nimport { useEffect } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Logout() {\n  _s();\n  useEffect(() => {\n    (async () => {\n      try {\n        await axios.post(`${process.env.REACT_APP_BACKEND_URL}/logout/`, {\n          refresh_token: localStorage.getItem(\"refresh_token\")\n        }, {\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        });\n        localStorage.clear();\n        console.log(\"Logout successful\");\n        axios.defaults.headers.common[\"Authorization\"] = null;\n        window.location.href = \"/\";\n      } catch (error) {\n        if (error.response && error.response.data) {\n          console.log(\"Logout not working\", error.response.data);\n        } else {\n          console.log(\"Logout not working\", error.message);\n        }\n      }\n    })();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 12\n  }, this);\n}\n_s(Logout, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = Logout;\nvar _c;\n$RefreshReg$(_c, \"Logout\");","map":{"version":3,"names":["useEffect","axios","jsxDEV","_jsxDEV","Logout","_s","post","process","env","REACT_APP_BACKEND_URL","refresh_token","localStorage","getItem","headers","clear","console","log","defaults","common","window","location","href","error","response","data","message","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/sylviadrake-gill/code/sustainableswapshop/frontend/my-react-app/src/Components/Logout.jsx"],"sourcesContent":["// import { useEffect } from \"react\"\n// import axios from \"axios\"\n// export default function Logout() {\n//     useEffect(() => {\n//         (async () => {\n//             try {\n//                 const { data } = await axios.post(\n//                     `${process.env.REACT_APP_BACKEND_URL}/logout/`,\n//                     {\n//                         refresh_token: localStorage.getItem(\"refresh_token\"),\n//                     },\n//                     {\n//                         headers: {\n//                             \"Content-Type\": \"application/json\",\n//                         }\n//                     }\n//                 )\n//                 localStorage.clear()\n//                 axios.defaults.headers.common[\"Authorization\"] = null\n//                 window.location.href = \"/\"\n//                 } catch (e) {\n//                     console.log(\"logout not working\", e)\n//                 }\n//             })()\n//     }, [])\n//     return <div></div>\n// }\nimport { useEffect } from \"react\"\nimport axios from \"axios\"\n\nexport default function Logout() {\n    useEffect(() => {\n        (async () => {\n            try {\n                await axios.post(\n                    `${process.env.REACT_APP_BACKEND_URL}/logout/`,\n                    {\n                        refresh_token: localStorage.getItem(\"refresh_token\"),\n                    },\n                    {\n                        headers: {\n                            \"Content-Type\": \"application/json\",\n                        }\n                    }\n                )\n                localStorage.clear()\n                console.log(\"Logout successful\")\n                axios.defaults.headers.common[\"Authorization\"] = null\n                window.location.href = \"/\"\n            } catch (error) {\n                if (error.response && error.response.data) {\n                    console.log(\"Logout not working\", error.response.data)\n                } else {\n                    console.log(\"Logout not working\", error.message)\n                }\n            }\n        })()\n    }, [])\n\n    return <div></div>\n}\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,SAAS,QAAQ,OAAO;AACjC,OAAOC,KAAK,MAAM,OAAO;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEzB,eAAe,SAASC,MAAMA,CAAA,EAAG;EAAAC,EAAA;EAC7BL,SAAS,CAAC,MAAM;IACZ,CAAC,YAAY;MACT,IAAI;QACA,MAAMC,KAAK,CAACK,IAAI,CACX,GAAEC,OAAO,CAACC,GAAG,CAACC,qBAAsB,UAAS,EAC9C;UACIC,aAAa,EAAEC,YAAY,CAACC,OAAO,CAAC,eAAe;QACvD,CAAC,EACD;UACIC,OAAO,EAAE;YACL,cAAc,EAAE;UACpB;QACJ,CACJ,CAAC;QACDF,YAAY,CAACG,KAAK,CAAC,CAAC;QACpBC,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;QAChCf,KAAK,CAACgB,QAAQ,CAACJ,OAAO,CAACK,MAAM,CAAC,eAAe,CAAC,GAAG,IAAI;QACrDC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,GAAG;MAC9B,CAAC,CAAC,OAAOC,KAAK,EAAE;QACZ,IAAIA,KAAK,CAACC,QAAQ,IAAID,KAAK,CAACC,QAAQ,CAACC,IAAI,EAAE;UACvCT,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEM,KAAK,CAACC,QAAQ,CAACC,IAAI,CAAC;QAC1D,CAAC,MAAM;UACHT,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEM,KAAK,CAACG,OAAO,CAAC;QACpD;MACJ;IACJ,CAAC,EAAE,CAAC;EACR,CAAC,EAAE,EAAE,CAAC;EAEN,oBAAOtB,OAAA;IAAAuB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAU,CAAC;AACtB;AAACxB,EAAA,CA9BuBD,MAAM;AAAA0B,EAAA,GAAN1B,MAAM;AAAA,IAAA0B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}