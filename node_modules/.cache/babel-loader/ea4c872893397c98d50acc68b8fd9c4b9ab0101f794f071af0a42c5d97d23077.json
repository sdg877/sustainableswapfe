{"ast":null,"code":"import axios from\"axios\";import{useState}from\"react\";import'../App/App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const LoginForm=()=>{const[username,setUsername]=useState(\"\");const[password,setPassword]=useState(\"\");// Create the submit method.\nconst submit=async e=>{e.preventDefault();const user={username:username,password:password};const{data}=await axios.post(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/token/\"),user,{headers:{\"Content-Type\":\"application/json\"}},{withCredentials:true});localStorage.clear();localStorage.setItem(\"access_token\",data.access);localStorage.setItem(\"refresh_token\",data.refresh);axios.defaults.headers.common[\"Authorization\"]=\"Bearer \".concat(data[\"access\"]);window.location.href=\"/\";};return/*#__PURE__*/_jsx(\"div\",{className:\"container mt-5\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"Auth-form\",onSubmit:submit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",className:\"form-label\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{id:\"username\",className:\"form-control\",placeholder:\"Enter Username\",name:\"username\",type:\"text\",value:username,required:true,onChange:e=>setUsername(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",name:\"password\",type:\"password\",className:\"form-control\",placeholder:\"Enter password\",value:password,required:true,onChange:e=>setPassword(e.target.value)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-grid gap-2 mt-3\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary btn-lg\",children:\"Sign In\"})})]})});};export default LoginForm;","map":{"version":3,"names":["axios","useState","jsx","_jsx","jsxs","_jsxs","LoginForm","username","setUsername","password","setPassword","submit","e","preventDefault","user","data","post","concat","process","env","REACT_APP_BACKEND_URL","headers","withCredentials","localStorage","clear","setItem","access","refresh","defaults","common","window","location","href","className","children","onSubmit","htmlFor","id","placeholder","name","type","value","required","onChange","target"],"sources":["/Users/sylviadrake-gill/code/sustainableswapshop/frontend/my-react-app/src/Components/LoginForm.jsx"],"sourcesContent":["\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport '../App/App.css'\n\nexport const LoginForm = () => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  // Create the submit method.\n  const submit = async (e) => {\n    e.preventDefault();\n    const user = {\n      username: username,\n      password: password,\n    };\n\n    const { data } = await axios.post(`${process.env.REACT_APP_BACKEND_URL}/token/`, user,\n    {\n      headers: { \"Content-Type\": \"application/json\" },\n    },\n    {\n        withCredentials: true\n    },\n    );\n\n\n    localStorage.clear();\n    localStorage.setItem(\"access_token\", data.access);\n    localStorage.setItem(\"refresh_token\", data.refresh);\n    axios.defaults.headers.common[\"Authorization\"] = `Bearer ${data[\"access\"]}`;\n    window.location.href = \"/\";\n  };\n  return (\n    <div className=\"container mt-5\">\n      <form className=\"Auth-form\" onSubmit={submit}>\n        <div className=\"mb-3\">\n          <label htmlFor=\"username\" className=\"form-label\">\n            Username\n          </label>\n          <input\n            id=\"username\"\n            className=\"form-control\"\n            placeholder=\"Enter Username\"\n            name=\"username\"\n            type=\"text\"\n            value={username}\n            required\n            onChange={(e) => setUsername(e.target.value)}\n          />\n        </div>\n        <div className=\"mb-3\">\n          <label htmlFor=\"password\" className=\"form-label\">\n            Password\n          </label>\n          <input\n            id=\"password\"\n            name=\"password\"\n            type=\"password\"\n            className=\"form-control\"\n            placeholder=\"Enter password\"\n            value={password}\n            required\n            onChange={(e) => setPassword(e.target.value)}\n          />\n        </div>\n        <div className=\"d-grid gap-2 mt-3\">\n          <button type=\"submit\" className=\"btn btn-primary btn-lg\">\n            Sign In\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default LoginForm;\n\n"],"mappings":"AACA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,OAAO,CAChC,MAAO,gBAAgB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEvB,MAAO,MAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CAC7B,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGP,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACQ,QAAQ,CAAEC,WAAW,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAC5C;AACA,KAAM,CAAAU,MAAM,CAAG,KAAO,CAAAC,CAAC,EAAK,CAC1BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,KAAM,CAAAC,IAAI,CAAG,CACXP,QAAQ,CAAEA,QAAQ,CAClBE,QAAQ,CAAEA,QACZ,CAAC,CAED,KAAM,CAAEM,IAAK,CAAC,CAAG,KAAM,CAAAf,KAAK,CAACgB,IAAI,IAAAC,MAAA,CAAIC,OAAO,CAACC,GAAG,CAACC,qBAAqB,YAAWN,IAAI,CACrF,CACEO,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAChD,CAAC,CACD,CACIC,eAAe,CAAE,IACrB,CACA,CAAC,CAGDC,YAAY,CAACC,KAAK,CAAC,CAAC,CACpBD,YAAY,CAACE,OAAO,CAAC,cAAc,CAAEV,IAAI,CAACW,MAAM,CAAC,CACjDH,YAAY,CAACE,OAAO,CAAC,eAAe,CAAEV,IAAI,CAACY,OAAO,CAAC,CACnD3B,KAAK,CAAC4B,QAAQ,CAACP,OAAO,CAACQ,MAAM,CAAC,eAAe,CAAC,WAAAZ,MAAA,CAAaF,IAAI,CAAC,QAAQ,CAAC,CAAE,CAC3Ee,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,GAAG,CAC5B,CAAC,CACD,mBACE7B,IAAA,QAAK8B,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC7B7B,KAAA,SAAM4B,SAAS,CAAC,WAAW,CAACE,QAAQ,CAAExB,MAAO,CAAAuB,QAAA,eAC3C7B,KAAA,QAAK4B,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB/B,IAAA,UAAOiC,OAAO,CAAC,UAAU,CAACH,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,UAEjD,CAAO,CAAC,cACR/B,IAAA,UACEkC,EAAE,CAAC,UAAU,CACbJ,SAAS,CAAC,cAAc,CACxBK,WAAW,CAAC,gBAAgB,CAC5BC,IAAI,CAAC,UAAU,CACfC,IAAI,CAAC,MAAM,CACXC,KAAK,CAAElC,QAAS,CAChBmC,QAAQ,MACRC,QAAQ,CAAG/B,CAAC,EAAKJ,WAAW,CAACI,CAAC,CAACgC,MAAM,CAACH,KAAK,CAAE,CAC9C,CAAC,EACC,CAAC,cACNpC,KAAA,QAAK4B,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB/B,IAAA,UAAOiC,OAAO,CAAC,UAAU,CAACH,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,UAEjD,CAAO,CAAC,cACR/B,IAAA,UACEkC,EAAE,CAAC,UAAU,CACbE,IAAI,CAAC,UAAU,CACfC,IAAI,CAAC,UAAU,CACfP,SAAS,CAAC,cAAc,CACxBK,WAAW,CAAC,gBAAgB,CAC5BG,KAAK,CAAEhC,QAAS,CAChBiC,QAAQ,MACRC,QAAQ,CAAG/B,CAAC,EAAKF,WAAW,CAACE,CAAC,CAACgC,MAAM,CAACH,KAAK,CAAE,CAC9C,CAAC,EACC,CAAC,cACNtC,IAAA,QAAK8B,SAAS,CAAC,mBAAmB,CAAAC,QAAA,cAChC/B,IAAA,WAAQqC,IAAI,CAAC,QAAQ,CAACP,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CAAC,SAEzD,CAAQ,CAAC,CACN,CAAC,EACF,CAAC,CACJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAA5B,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}