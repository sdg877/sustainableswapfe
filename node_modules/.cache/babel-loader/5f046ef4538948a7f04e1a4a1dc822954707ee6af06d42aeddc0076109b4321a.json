{"ast":null,"code":"import{useEffect}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function Logout(){useEffect(()=>{(async()=>{try{await axios.post(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/logout/\"),{refresh_token:localStorage.getItem(\"refresh_token\")},{headers:{\"Content-Type\":\"application/json\"}});localStorage.clear();console.log(\"Logout successful\");axios.defaults.headers.common[\"Authorization\"]=null;window.location.href=\"/\";}catch(error){if(error.response&&error.response.data){console.log(\"Logout not working\",error.response.data);}else{console.log(\"Logout not working\",error.message);}}})();},[]);return/*#__PURE__*/_jsx(\"div\",{});}","map":{"version":3,"names":["useEffect","axios","jsx","_jsx","Logout","post","concat","process","env","REACT_APP_BACKEND_URL","refresh_token","localStorage","getItem","headers","clear","console","log","defaults","common","window","location","href","error","response","data","message"],"sources":["/Users/sylviadrake-gill/code/sustainableswapshop/frontend/my-react-app/src/Components/Logout.jsx"],"sourcesContent":["\nimport { useEffect } from \"react\"\nimport axios from \"axios\"\n\nexport default function Logout() {\n    useEffect(() => {\n        (async () => {\n            try {\n                await axios.post(\n                    `${process.env.REACT_APP_BACKEND_URL}/logout/`,\n                    {\n                        refresh_token: localStorage.getItem(\"refresh_token\"),\n                    },\n                    {\n                        headers: {\n                            \"Content-Type\": \"application/json\",\n                        }\n                    }\n                )\n                localStorage.clear()\n                console.log(\"Logout successful\")\n                axios.defaults.headers.common[\"Authorization\"] = null\n                window.location.href = \"/\"\n            } catch (error) {\n                if (error.response && error.response.data) {\n                    console.log(\"Logout not working\", error.response.data)\n                } else {\n                    console.log(\"Logout not working\", error.message)\n                }\n            }\n        })()\n    }, [])\n\n    return <div></div>\n}\n"],"mappings":"AACA,OAASA,SAAS,KAAQ,OAAO,CACjC,MAAO,CAAAC,KAAK,KAAM,OAAO,QAAAC,GAAA,IAAAC,IAAA,yBAEzB,cAAe,SAAS,CAAAC,MAAMA,CAAA,CAAG,CAC7BJ,SAAS,CAAC,IAAM,CACZ,CAAC,SAAY,CACT,GAAI,CACA,KAAM,CAAAC,KAAK,CAACI,IAAI,IAAAC,MAAA,CACTC,OAAO,CAACC,GAAG,CAACC,qBAAqB,aACpC,CACIC,aAAa,CAAEC,YAAY,CAACC,OAAO,CAAC,eAAe,CACvD,CAAC,CACD,CACIC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CACJ,CACJ,CAAC,CACDF,YAAY,CAACG,KAAK,CAAC,CAAC,CACpBC,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC,CAChCf,KAAK,CAACgB,QAAQ,CAACJ,OAAO,CAACK,MAAM,CAAC,eAAe,CAAC,CAAG,IAAI,CACrDC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,GAAG,CAC9B,CAAE,MAAOC,KAAK,CAAE,CACZ,GAAIA,KAAK,CAACC,QAAQ,EAAID,KAAK,CAACC,QAAQ,CAACC,IAAI,CAAE,CACvCT,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAEM,KAAK,CAACC,QAAQ,CAACC,IAAI,CAAC,CAC1D,CAAC,IAAM,CACHT,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAEM,KAAK,CAACG,OAAO,CAAC,CACpD,CACJ,CACJ,CAAC,EAAE,CAAC,CACR,CAAC,CAAE,EAAE,CAAC,CAEN,mBAAOtB,IAAA,SAAU,CAAC,CACtB"},"metadata":{},"sourceType":"module","externalDependencies":[]}