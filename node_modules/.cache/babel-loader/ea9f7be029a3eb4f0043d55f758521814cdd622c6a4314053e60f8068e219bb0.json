{"ast":null,"code":"var _jsxFileName = \"/Users/sylviadrake-gill/code/sustainableswapshop/frontend/my-react-app/src/Components/SignUpForm.jsx\",\n  _s = $RefreshSig$();\nimport { Form, Button } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { useRef } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SignupForm() {\n  _s();\n  const userRef = useRef();\n  const emailRef = useRef();\n  const pwdRef = useRef();\n  async function handleSubmit(e) {\n    e.preventDefault();\n    const user = {\n      username: userRef.current.value,\n      email: emailRef.current.value,\n      password: pwdRef.current.value\n    };\n    try {\n      await axios.post(`${process.env.REACT_APP_BACKEND_URL}/signup/`, user, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }, {\n        withCredentials: true\n      });\n      const loginData = {\n        username: user.username,\n        password: user.password\n      };\n      const response = await axios.post(`${process.env.REACT_APP_BACKEND_URL}/token/`, loginData, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }, {\n        withCredentials: true\n      });\n      if (response && response.data && response.data.access) {\n        localStorage.setItem(\"access_token\", response.data.access);\n        console.log('Login successful. Access token:', response.data.access);\n        window.location.href = \"/\";\n      } else {\n        console.error('Login failed. Response:', response);\n      }\n    } catch (error) {\n      console.error('Error signing up or logging in:', error);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(Form, {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n        children: \"Username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        type: \"text\",\n        ref: userRef,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        type: \"email\",\n        ref: emailRef,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        type: \"password\",\n        ref: pwdRef,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-2\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"primary\",\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n}\n_s(SignupForm, \"TG3Gp71btIFwuTMh4fr97wL3T4c=\");\n_c = SignupForm;\nvar _c;\n$RefreshReg$(_c, \"SignupForm\");","map":{"version":3,"names":["Form","Button","axios","useRef","jsxDEV","_jsxDEV","SignupForm","_s","userRef","emailRef","pwdRef","handleSubmit","e","preventDefault","user","username","current","value","email","password","post","process","env","REACT_APP_BACKEND_URL","headers","withCredentials","loginData","response","data","access","localStorage","setItem","console","log","window","location","href","error","onSubmit","children","Group","Label","fileName","_jsxFileName","lineNumber","columnNumber","Control","type","ref","required","className","variant","_c","$RefreshReg$"],"sources":["/Users/sylviadrake-gill/code/sustainableswapshop/frontend/my-react-app/src/Components/SignUpForm.jsx"],"sourcesContent":["import { Form, Button } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { useRef } from \"react\";\n\nexport default function SignupForm() {\n    const userRef = useRef()\n    const emailRef = useRef()\n    const pwdRef = useRef()\n\n    async function handleSubmit(e) {\n      e.preventDefault();\n      const user = {\n          username: userRef.current.value,\n          email: emailRef.current.value,\n          password: pwdRef.current.value,\n      };\n  \n      try {\n          await axios.post(\n              `${process.env.REACT_APP_BACKEND_URL}/signup/`,\n              user,\n              {\n                  headers: { \"Content-Type\": \"application/json\" },\n              },\n              {\n                  withCredentials: true,\n              }\n          );\n\n          const loginData = {\n              username: user.username,\n              password: user.password,\n          };\n  \n          const response = await axios.post(\n              `${process.env.REACT_APP_BACKEND_URL}/token/`,\n              loginData,\n              {\n                  headers: { \"Content-Type\": \"application/json\" },\n              },\n              {\n                  withCredentials: true,\n              }\n          );\n  \n          if (response && response.data && response.data.access) {\n              localStorage.setItem(\"access_token\", response.data.access);\n              console.log('Login successful. Access token:', response.data.access);\n              window.location.href = \"/\"; \n          } else {\n              console.error('Login failed. Response:', response);\n          }\n      } catch (error) {\n          console.error('Error signing up or logging in:', error);\n      }\n  }\n  \n\n    return (\n        <Form onSubmit={handleSubmit}>\n            <Form.Group>\n                <Form.Label>Username</Form.Label>\n                <Form.Control type=\"text\" ref={userRef} required />\n            </Form.Group>\n            <Form.Group>\n                <Form.Label>Email</Form.Label>\n                <Form.Control type=\"email\" ref={emailRef} required />\n            </Form.Group>\n            <Form.Group>\n                <Form.Label>Password</Form.Label>\n                <Form.Control type=\"password\" ref={pwdRef} required />\n            </Form.Group>\n            <div className=\"mt-2\">\n                <Button type=\"submit\" variant=\"primary\">\n                    Sign Up\n                </Button>\n            </div>\n        </Form>\n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}