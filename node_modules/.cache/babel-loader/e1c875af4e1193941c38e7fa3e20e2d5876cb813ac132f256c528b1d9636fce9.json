{"ast":null,"code":"// import React, { useState, useEffect } from 'react';\n// import axios from 'axios';\n// import { Link } from 'react-router-dom';\n// import { currentUser } from '../lib/currentUser';\n// import ItemEdit from '../Components/ItemEdit.jsx'; // Import the ItemEdit component\n\n// const refreshUserItems = (userId, userToken, setUserItems) => {\n//     axios.get(`${process.env.REACT_APP_BACKEND_URL}/profile/${userId}/items/`, {\n//         headers: {\n//             Authorization: `Bearer ${userToken}`\n//         }\n//     })\n//     .then(response => {\n//         if (Array.isArray(response.data)) {\n//             setUserItems(response.data);\n//         } else {\n//             console.error('Invalid response format for user items:', response.data);\n//         }\n//     })\n//     .catch(error => {\n//         console.error('Error fetching user items:', error);\n//     });\n// };\n\n// function ProfilePage() {\n//     const [userItems, setUserItems] = useState([]); // Initialize userItems as an empty array\n//     const userToken = localStorage.getItem('access_token'); \n//     const userId = currentUser(); \n//     const [editingItemId, setEditingItemId] = useState(null);\n\n//     useEffect(() => {\n//         refreshUserItems(userId, userToken, setUserItems);\n//     }, [userToken, userId]);\n\n//     const handleDelete = (itemId) => {\n//         axios.delete(`${process.env.REACT_APP_BACKEND_URL}/items/${itemId}/delete/`, {\n//             headers: {\n//                 Authorization: `Bearer ${userToken}`\n//             }\n//         })\n//         .then(response => {\n//             // Remove the deleted item from the state\n//             setUserItems(prevItems => prevItems.filter(item => item.id !== itemId));\n//         })\n//         .catch(error => {\n//             console.error('Error deleting item:', error);\n//         });\n//     };\n\n//     return (\n//         <>\n//         <div>\n//             <h1>Your Items</h1>\n//             <div className=\"card-container\">\n//                 {userItems.map(item => (\n//                     <div className=\"item-card\" key={item.id}>\n//                         {item && (\n//                             <>\n//                                 <Link to={`/items/${item.id}`}>\n//                                     <h2>{item.item_title}</h2>\n//                                 </Link>\n//                                 <p>{item.item_description}</p>\n//                                 <button className=\"btn btn-primary\" onClick={() => handleDelete(item.id)}>Delete</button>\n//                                 <button className=\"btn btn-primary\" onClick={() => setEditingItemId(item.id)}>Edit</button>\n//                             </>\n//                         )}\n//                     </div>\n//                 ))}\n//             </div>\n//             {editingItemId && (\n//                 <ItemEdit\n//                     itemId={editingItemId}\n//                     userToken={userToken}\n//                 />\n//             )}\n//              </div>\n//              <div>\n\n//                     {swaps.length > 0 ? (\n//                       swaps.map(swap => (\n//                         <p>{swap.item_title}, {swap.item_description}</p>\n//                       ))\n//                     ) : (\n//                       <p>No offers yet</p>\n//                     )}\n//                   </div>\n//                 </>\n//     );\n// }\n\n// export default ProfilePage;","map":{"version":3,"names":[],"sources":["/Users/sylviadrake-gill/code/sustainableswapshop/frontend/my-react-app/src/Pages/ProfilePage.jsx"],"sourcesContent":["// import React, { useState, useEffect } from 'react';\n// import axios from 'axios';\n// import { Link } from 'react-router-dom';\n// import { currentUser } from '../lib/currentUser';\n// import ItemEdit from '../Components/ItemEdit.jsx'; // Import the ItemEdit component\n\n// const refreshUserItems = (userId, userToken, setUserItems) => {\n//     axios.get(`${process.env.REACT_APP_BACKEND_URL}/profile/${userId}/items/`, {\n//         headers: {\n//             Authorization: `Bearer ${userToken}`\n//         }\n//     })\n//     .then(response => {\n//         if (Array.isArray(response.data)) {\n//             setUserItems(response.data);\n//         } else {\n//             console.error('Invalid response format for user items:', response.data);\n//         }\n//     })\n//     .catch(error => {\n//         console.error('Error fetching user items:', error);\n//     });\n// };\n\n// function ProfilePage() {\n//     const [userItems, setUserItems] = useState([]); // Initialize userItems as an empty array\n//     const userToken = localStorage.getItem('access_token'); \n//     const userId = currentUser(); \n//     const [editingItemId, setEditingItemId] = useState(null);\n\n//     useEffect(() => {\n//         refreshUserItems(userId, userToken, setUserItems);\n//     }, [userToken, userId]);\n\n//     const handleDelete = (itemId) => {\n//         axios.delete(`${process.env.REACT_APP_BACKEND_URL}/items/${itemId}/delete/`, {\n//             headers: {\n//                 Authorization: `Bearer ${userToken}`\n//             }\n//         })\n//         .then(response => {\n//             // Remove the deleted item from the state\n//             setUserItems(prevItems => prevItems.filter(item => item.id !== itemId));\n//         })\n//         .catch(error => {\n//             console.error('Error deleting item:', error);\n//         });\n//     };\n\n//     return (\n//         <>\n//         <div>\n//             <h1>Your Items</h1>\n//             <div className=\"card-container\">\n//                 {userItems.map(item => (\n//                     <div className=\"item-card\" key={item.id}>\n//                         {item && (\n//                             <>\n//                                 <Link to={`/items/${item.id}`}>\n//                                     <h2>{item.item_title}</h2>\n//                                 </Link>\n//                                 <p>{item.item_description}</p>\n//                                 <button className=\"btn btn-primary\" onClick={() => handleDelete(item.id)}>Delete</button>\n//                                 <button className=\"btn btn-primary\" onClick={() => setEditingItemId(item.id)}>Edit</button>\n//                             </>\n//                         )}\n//                     </div>\n//                 ))}\n//             </div>\n//             {editingItemId && (\n//                 <ItemEdit\n//                     itemId={editingItemId}\n//                     userToken={userToken}\n//                 />\n//             )}\n//              </div>\n//              <div>\n        \n                  \n//                     {swaps.length > 0 ? (\n//                       swaps.map(swap => (\n//                         <p>{swap.item_title}, {swap.item_description}</p>\n//                       ))\n//                     ) : (\n//                       <p>No offers yet</p>\n//                     )}\n//                   </div>\n//                 </>\n//     );\n// }\n\n// export default ProfilePage;\n\n\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}